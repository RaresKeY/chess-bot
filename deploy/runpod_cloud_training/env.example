# Repo bootstrap
REPO_URL=https://github.com/RaresKeY/chess-bot.git
REPO_REF=main
REPO_DIR=/workspace/chess-bot
CLONE_REPO_ON_START=1
GIT_AUTO_PULL=1

# Python / requirements sync
VENV_DIR=/opt/venvs/chessbot
SYNC_REQUIREMENTS_ON_START=1
FORCE_PIP_SYNC=0

# Phase timing logs (JSONL)
RUNPOD_PHASE_TIMING_ENABLED=1
RUNPOD_PHASE_TIMING_LOG=/workspace/chess-bot/artifacts/timings/runpod_phase_times.jsonl
# Optional: set externally to correlate multiple services/scripts into one run
# RUNPOD_PHASE_TIMING_RUN_ID=

# Services
START_SSHD=1
START_JUPYTER=1
START_INFERENCE_API=1
START_HF_WATCH=0
START_IDLE_WATCHDOG=0

# SSH
RUNNER_USER=runner
# AUTHORIZED_KEYS can contain one or more public keys separated by newlines.
# AUTHORIZED_KEYS=

# Jupyter
JUPYTER_PORT=8888
# JUPYTER_TOKEN=replace-me

# Inference API
INFERENCE_API_HOST=0.0.0.0
INFERENCE_API_PORT=8000
INFERENCE_API_MODEL_PATH=latest
INFERENCE_API_DEVICE=auto
INFERENCE_API_TOPK_DEFAULT=10
INFERENCE_API_VERBOSE=1

# Optional: RunPod training preset launcher (manual command)
# Usage:
#   TRAIN_DATASET_DIR=/workspace/chess-bot/data/dataset/elite_2025-11_cap4 \
#   bash /opt/runpod_cloud_training/train_baseline_preset.sh
# or provide explicit JSONL paths:
#   TRAIN_PATH=/workspace/chess-bot/data/dataset/elite_2025-11_cap4/train.jsonl
#   VAL_PATH=/workspace/chess-bot/data/dataset/elite_2025-11_cap4/val.jsonl
TRAIN_DATASET_DIR=
TRAIN_PATH=
VAL_PATH=
OUTPUT_PATH=
METRICS_OUT=
TRAIN_BATCH_SIZE=2048
TRAIN_NUM_WORKERS=6
TRAIN_PHASE_WEIGHT_ENDGAME=2.0
# Extra flags appended to scripts/train_baseline.py (space-separated)
TRAIN_EXTRA_ARGS=

# Hugging Face sync
HF_REPO_ID=
HF_REPO_TYPE=model
HF_TOKEN=
HF_SYNC_SOURCE_DIR=/workspace/chess-bot/artifacts
HF_SYNC_PATTERNS=*.pt,*.json
HF_SYNC_INTERVAL_SECONDS=120
HF_SYNC_VERBOSE=1
HF_HUB_ENABLE_HF_TRANSFER=1

# Idle watchdog / autostop
IDLE_TIMEOUT_SECONDS=3600
IDLE_CHECK_INTERVAL_SECONDS=60
IDLE_GPU_UTIL_THRESHOLD=10
IDLE_GPU_MEM_MB_THRESHOLD=1024
IDLE_WATCHDOG_VERBOSE=1
AUTOSTOP_ACTION=runpod_api
RUNPOD_API_KEY=
RUNPOD_POD_ID=
# Optional: override GraphQL endpoint if needed
RUNPOD_GRAPHQL_ENDPOINT=https://api.runpod.io/graphql
